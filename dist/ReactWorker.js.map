{"version":3,"sources":["webpack:///webpack/bootstrap 8b2381791ce3a92dbba3?b70b","webpack:///C:/_workspace/tmp/react-worker-dom/test/dbmonster/../../src/page/index.js","webpack:///C:/_workspace/tmp/react-worker-dom/test/dbmonster/../../src/page/WorkerDomNodeImpl.js"],"names":[],"mappings":"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","file":"ReactWorker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8b2381791ce3a92dbba3\n **/","import WorkerDomNodeImpl from './WorkerDomNodeImpl';\r\n\r\nexport class ReactWorkerDom {\r\n    constructor(worker, container) {\r\n        this.nodeList = {};\r\n        this.worker = worker;\r\n        this.container = container;\r\n        worker.onmessage = (e => this.handleMessage(e.data));\r\n    }\r\n\r\n    handleMessage(data) {\r\n        if (data.type === 'renderQueue') {\r\n            data.args.forEach(msg => this.handleRenderQueueMessage(msg));\r\n        }\r\n    }\r\n\r\n    handleRenderQueueMessage(data) {\r\n        var nodeList = this.nodeList;\r\n        switch (data.method) {\r\n            case 'constructor':\r\n                nodeList[data.id] = new WorkerDomNodeImpl(data.id, ...data.args);\r\n                break;\r\n            case 'render': // Should only be called once per worker\r\n                this.container.appendChild(nodeList[data.id].ref);\r\n                break;\r\n            case 'appendChild':\r\n                var node = nodeList[data.id];\r\n                node.appendChild(nodeList[data.args[0]]);\r\n                break;\r\n            default:\r\n                var node = nodeList[data.id];\r\n                if (typeof node[data.method] === 'function') {\r\n                    node[data.method](...data.args);\r\n                } else {\r\n                    console.log('Cannot run %s on Node with id %s', data.method, data.id);\r\n                }\r\n        }\r\n\r\n    }\r\n}\r\n\r\nwindow.ReactWorker = ReactWorkerDom;\n\n\n/** WEBPACK FOOTER **\n ** C:/_workspace/tmp/react-worker-dom/test/dbmonster/../../src/page/index.js\n **/","export default class WorkerDomNodeImpl {\r\n    constructor(id, el, options) {\r\n        this.el = el;\r\n        this.options = options;\r\n        this.id = id;\r\n        if (el === '#text') {\r\n            this.ref = document.createTextNode(options.value);\r\n            this.type = 'TEXT_NODE';\r\n        } else {\r\n            this.ref = document.createElement(el);\r\n            this.ref.setAttribute('data-reactid', id);\r\n            this.setAttributes(this.options);\r\n        }\r\n    }\r\n    appendChild(node) {\r\n        this.ref.appendChild(node.ref);\r\n    }\r\n    setContent(content) {\r\n        if (this.type === 'TEXT_NODE') {\r\n            this.ref.nodeValue = content;\r\n        } else {\r\n            this.ref.innerHTML = escape(content);\r\n        }\r\n    }\r\n    setAttributes(options) {\r\n        for (let key in options) {\r\n            let value = options[key];\r\n            if (key === 'className') {\r\n                this.ref.className = value;\r\n            } else {\r\n                this.ref.setAttribute(key, value);\r\n            }\r\n        }\r\n    }\r\n    addEventHandlers(...handlers) {\r\n        handlers.forEach((handler) => {\r\n            this.ref.addEventListener(handler.substring(2).toLowerCase(), (e) => {\r\n                this.onEvent(handler, e);\r\n                return false;\r\n            }, false);\r\n        });\r\n    }\r\n\r\n    onEvent(eventType, e) {\r\n        // TODO Send event back to worker\r\n        // TODO Convert event to Synthetic Event\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/_workspace/tmp/react-worker-dom/test/dbmonster/../../src/page/WorkerDomNodeImpl.js\n **/"],"sourceRoot":""}